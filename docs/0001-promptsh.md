# promptsh

Бывает, я месяцами ничего не делаю. Ну или делаю без видимого результата. А тут недавно, внезапно, источником вдохновения для пет-проекта на вечер (почти буквально) послужил... мем.

Перепроверяю, на всякий (вдруг чё-то поменялось):

```bash
user@workstation:~$ python
Python 3.11.5 (main, Aug 25 2023, 13:19:50) [GCC 11.4.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> 0.1 + 0.2
0.30000000000000004
```

— не поменялось, окей.

Сразу мысль: _"А чё если скормить это ChatGPT?"_.

Между мыслью и действием возникло отсутствие какого-либо OpenAI CLI под рукой. Такие даже уже есть где-то, на просторах GitHub. Но свой-то написать — интереснее!
Вот:
https://github.com/Danand/promptsh

```bash
$ promptsh --shell none -c "0.1 + 0.2"
0.1 + 0.2 = 0.3
```

Но тут я иду даже сразу чуть дальше, и реализую всё так, чтобы эта штука ещё и умела сразу запускать исполнение комманд, которые насочинял по промпту ChatGPT.

Как-то так:

```bash
$ promptsh -c "get table (day, commits sum) for repository overall where sum greater than 5"

git log --format="%ad" --date=short | sort | uniq -c | awk '$1 > 5 {print $2, $1}'

2023-08-22 13
2023-09-11 6
2023-09-14 13
```
