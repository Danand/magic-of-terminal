---
layout: post
title:  "terminal: tab name"
---

<span class="hidden">Как менять имя вкладки терминала.</span>

## Мотивация

В последнее время, у меня в терминале очень много вкладок. И дома (на двух машинах), и на работе. И, в каждый раз, открывая терминал, я теряюсь при виде такой картины:

<img src="{{ site.baseurl }}/assets/images/terminal-tabs-unnamed.png"
     alt="Непроименованные вкладки" />

Где, чё... Приходится либо запоминать "ага, вот эта штука важнее, поэтому она – первая", либо прощёлкивать все вкладки, в поиске нужной.

## Решение

В **Bash** можно задать функцию, которая будет исполняться при каждом выводе промпта. Это нам и нужно. Задаём.

Открываем `~/.bashrc` или `~/.bash_profile`, дописываем туда:

```bash
# Функция установки имени вкладки:
function __change_tab_name() {
  # Точно работает в MacOS Terminal:
  echo -ne "\033]0;$(basename "$(pwd)")\007"

  # Точно работает в Gnome Terminal и в Windows Terminal:
  PS1="$PS1\[\e]0;$(basename "$(pwd)")\a\]"
}

# Кастомная функция, которую мы заставим исполняться
# при каждом выводе промпта:
function __prompt_command() {
  # Вызываем тут функцию установки имени вкладки:
  __change_tab_name

  # ...
  # Сюда можно дописать ещё всякие команды,
  # которые мы хотим исполнять при выводе промпта.
}

# Сам оверрайд:
PROMPT_COMMAND=__prompt_command
```

## Результат

Всё. Теперь, после каждой введённой команды в терминале, мы видим имя текущей рабочей папки в названии вкладки:

<img src="{{ site.baseurl }}/assets/images/terminal-tabs-named.png"
     alt="Проименованные вкладки" />
